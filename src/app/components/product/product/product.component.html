<div class="container h-100">
  <!-- nav start -->
  <div
    class="d-flex justify-content-between"
    [ngClass]="{
      'hide-on-small': isSmallScreen,
      'show-on-small': !isSmallScreen
    }"
    >
    <h3 class="mt-3 all-product" (click)="getAllProducts()">All Products</h3>
    <div class="mt-3 d-flex justify-content-center align-items-center">
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control input"
          placeholder="search"
          aria-label="Recipient's username"
          aria-describedby="button-addon2"
          name="productName"
          #inputValue
          />
        <button
          class="btn btn-outline-secondary input"
          type="button"
          id="button-addon2"
          (click)="nameSearch(inputValue.value)"
          >
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </div>
    <div [routerLink]="['/product/newproduct']">
      <button type="button" class="btn creat mt-3">
        <i class="fa-solid fa-plus me-3 plus"></i>New Product
      </button>
    </div>
  </div>
  <!-- collaps -->
  <div
    [ngClass]="{
      'hide-on-small2': !isSmallScreen,
      'show-on-small2': isSmallScreen
    }"
    >
    <div class="mt-3 d-flex justify-content-end align-items-center">
      <button class="btn creat">
        <i class="fa-solid fa-bars" (click)="toggleNav()"></i>
      </button>
    </div>
    @if (!flagNav) {
      <div>
        <div class="d-flex justify-content-end align-items-center">
          <h3 class="mt-3 all-product" (click)="getAllProducts()">
            All Products
          </h3>
        </div>
        <div class="d-flex justify-content-end align-items-center">
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control input"
              placeholder="search"
              aria-label="Recipient's username"
              aria-describedby="button-addon2"
              name="productName"
              #inputValue
              />
            <button
              class="btn btn-outline-secondary input"
              type="button"
              id="button-addon2"
              (click)="nameSearch(inputValue.value)"
              >
              <i class="fa-solid fa-magnifying-glass"></i>
            </button>
          </div>
        </div>
        <div class="d-flex justify-content-end align-items-center">
          <button
            type="button"
            class="btn creat mt-3"
            [routerLink]="['/product/newproduct']"
            >
            <i class="fa-solid fa-plus me-3 plus"></i>New Product
          </button>
        </div>
      </div>
    }
  </div>
  <!-- nav end -->
  <!-- product layout start -->
  @for (product of AllProducts; track product) {
    <div class="product">
      <div class="d-flex mt-3 justify-content-around align-items-center product">
        <div
          class="d-flex mt-3 justify-content-around align-items-center image-title"
          >
          <div>
            <img class="img" [src]="product.thumbnail" [alt]="product.title" />
          </div>
          <div>
            <p class="title-p">{{ product.title }} ({{ product.quantity }})</p>
          </div>
        </div>
        <div
          class="w-100 d-flex mb-3 justify-content-around align-items-center content"
          >
          <div
            class="w-100 d-flex mt-3 justify-content-around align-items-center info"
            >
            <div
              class="details"
              [routerLink]="['/product/detailproduct', product._id]"
              >
              <i class="fa-solid fa-book"></i>
              <span class="ms-3">Details</span>
            </div>
            <div class="d-flex justify-content-center align-items-center">
              <div>
                <i class="fa-solid fa-calculator me-3"></i>
              </div>
              <div>{{ product.price }} EGP</div>
            </div>
            <div
              class="d-flex justify-content-center align-items-center review"
              [routerLink]="['/product/productreviews', product._id]"
              >
              <div>reviews</div>
              <div>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
              </div>
            </div>
          </div>
          <div
            class="d-flex mt-3 mb-3 justify-content-around align-items-center edit-delet"
            >
            <div
              class="me-3 pencil-icon d-flex justify-content-center align-items-center edit icon"
              >
              <i
                class="fa-solid fa-pencil"
                [routerLink]="['/product/editproduct', product._id]"
              ></i>
            </div>
            <div
              class="me-3 trach-icon d-flex justify-content-center align-items-center icon2"
              >
              <i
                class="fa-solid fa-trash trach"
                (click)="removeProduct(product._id)"
              ></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  }
  <!-- product layout end -->
  <!-- <div class="pagination d-flex justify-content-center align-items-center">
  <button class="btn btn-link" (click)="prevPage()">Previous</button>
  <span>Page {{ currentPage }}</span>
  <button class="btn btn-link" (click)="nextPage()">Next</button>
</div> -->
<div class="d-flex justify-content-center align-items-center mt-3 mb-3">
  <div class="btn-group" role="group" aria-label="Basic mixed styles example">
    <button type="button" class="btn me-2 Previous" (click)="prevPage()">
      Previous
    </button>
    <span>Page {{ currentPage }}</span>
    <button type="button" class="btn ms-2 Next" (click)="nextPage()">
      Next
    </button>
  </div>
</div>
</div>
